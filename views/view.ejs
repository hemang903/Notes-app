<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="./styleSheets/profile.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/dd9529 f436.js" crossorigin="anonymous"></script>
</head>

<body>
    <main class="bg-teal-950 flex justify-center h-max min-h-screen px-8 py-4 text-white bg-gradient-to-r from-indigo-500 via-purple-700 to-pink-500">
        <div class="border-2 h-fit min-h-screen rounded-md px-6 py-2 w-[75rem]">
            <div class="flex flex-row justify-between ">
                <h1 class="text-white font-bold text-2xl bg-green-600 px-5 shadow-md shadow-green-400">Welcome @<%= user.username %></h1>
                <a href="/logout" class="logout bg-transparent border-2 text-white font-bold rounded-md border-blue-800 py-1 px-2 shadow-md shadow-red-800">Logout</a>
            </div>
            <br>
            <div id="addBtn" class="border-2 w-fit px-2 rounded-md bg-gray-100 text-gray-900 mb-2 r">
                <input id="noteBtn" class="cursor-pointer" onclick="addNote()" type="button" value="+ Add Note">
            </div>
            <div id="formContainer" class="mb-4 flex flex-col items-center hidden">
               <form method="post" action="/profile" class="border-2 rounded-md w-80 p-2 text-black items-center flex flex-col">
                   <input id="heading" class="block decoration-none mb-3 rounded-md p-2 w-full font-bold outline-none bg-zinc-200" type="text" name="heading" placeholder="Title" required>
                   <textarea id="content" class="block rounded-md p-2 w-full outline-none h-36 resize-none" name="content" placeholder="What's on your mind?" ></textarea> 
                
                   <button class="bg-blue-700 text-white py-1 mt-2 px-2 border-1-black rounded-md hover:bg-blue-900 " type="submit" onclick="">Create note</button>
               </form>
            </div>

            <!-- box design -->
            <div class="flex flex-row gap-x-6 gap-y-6 flex-wrap justify-start">            
                <% user.posts.reverse().forEach(function(post){ %>
                <div class="noteDiv flex flex-col border-2 border-indigo-700 w-[268px] p-2 bg-gray-800 h-fit ">
                    <div id="createdNote">
                        <a href="profile/view/<%= post._id %>">

                            <div class="font-semibold text-xl mb-1 cursor-pointer" onclick="openNote()">
                                <h1 class="text-ellipsis overflow-hidden whitespace-nowrap"><%= post.heading %></h1>
                            </div>
                            <hr>
                            <div > 
                                <p class="text-sm mt-1 overflow-hidden whitespace-nowrap text-ellipsis"><%= post.content %></p>
                            </div>
                        </a>
                    </div>
                    <div class="flex flex-row text-xs mt-2 justify-evenly">
                        <a href="/edit/<%= post._id %>" class="text-green-400">Edit</a>
                        <a href="/delete/<%= post._id %>" class="text-red-500">Delete</a>
                        <a href="" class="text-blue-500">Share</a>
                    </div>
                </div>
                <% }) %>
            </div>
            
        </div>

       
        <!-- <div class="notesBox h-screen w-full bg-blur-sm flex justify-center items-center m-10 hidden">
                <div id="formContainer" class="mb-4  flex flex-col items-center bg-red-400">
                    <form method="post" action="/profile" class="border-2 border-teal w-80 p-2 text-black items-center flex flex-col">
                        <input id="heading" class="block decoration-none mb-3 rounded-md p-2 w-full font-bold outline-none " type="text" name="heading" placeholder="Title" required>
                        <textarea id="content" class="block rounded-md p-2 w-full outline-none h-36 resize-none" name="content" placeholder="What's on your mind?" ></textarea> 
                     
                        <button class="bg-blue-700 text-white py-1 mt-2 px-2 border-1-black rounded-md" type="submit" onclick="">Create note</button>
                    </form>
                 </div>
        </div> -->
    </main>

    
        <div class="p-5 fixed z-0 top-0 h-screen w-full text-white flex justify-center  backdrop-blur-lg">
            <a href="/profile">
                <div class="top-2 border-2 border-black text-black absolute right-2 px-4 py-1 delay-75 duration-[0.1s] text-2xl cursor-pointer hover:bg-slate-900 rounded-full hover:text-white">
                    <!-- <i class="fa-solid fa-xmark "></i> -->
                    <span>X</span>
                </div>
            </a>
            <div class="w-[50%] border-2 border-black min-h-60 max-h-fit p-2 mt-10 bg-gray-800 overflow-x-auto">
                <h2 class="font-bold w-fit mb-2 text-lg"><%= post.heading %></h2>
                <hr>
                <p class="mt-2"><%= post.content %></p>
            </div>
            <!-- <div id="formContainer" class=" flex flex-col items-center bg-red-400">
                <form method="post" action="/profile" class="border-2 border-teal w-80 p-2 text-black items-center flex flex-col">
                    <input id="heading" class="block decoration-none mb-3 rounded-md p-2 w-full font-bold outline-none " type="text" name="heading" placeholder="Title" required>
                    <textarea id="content" class="block rounded-md p-2 w-full outline-none h-36 resize-none" name="content" placeholder="What's on your mind?" ></textarea> 
                    
                </form>
            </div> -->
        </div>

    <script src="./javascripts/profile.js"></script>
</body>
</html>